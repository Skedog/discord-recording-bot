{"version":3,"file":"WebmVorbisDemuxer.js","sourceRoot":"","sources":["../../src/webm/WebmVorbisDemuxer.ts"],"names":[],"mappings":";;;AACA,uDAAoD;AAEpD,MAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAE1C,MAAa,iBAAkB,SAAQ,iCAAe;IAC3C,UAAU,CAAC,IAAY;QAChC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,EAAE;YAC5E,OAAO,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;SAC/C;QAED,MAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAC7B,MAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAE7B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;QAC3C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;CACD;AAbD,8CAaC;AAED,SAAgB,uBAAuB,CAAC,OAA0B;IACjE,OAAO,IAAI,iBAAiB,CAAC,OAAO,CAAC,CAAC;AACvC,CAAC;AAFD,0DAEC","sourcesContent":["import { TransformOptions } from 'stream';\nimport { WebmBaseDemuxer } from './WebmBaseDemuxer';\n\nconst VORBIS_HEAD = Buffer.from('vorbis');\n\nexport class WebmVorbisDemuxer extends WebmBaseDemuxer {\n\tprotected _checkHead(data: Buffer) {\n\t\tif (data.readUInt8(0) !== 2 || data.compare(VORBIS_HEAD, 0, 6, 4, 10) !== 0) {\n\t\t\treturn new Error('Audio codec is not Vorbis!');\n\t\t}\n\n\t\tconst b1 = data.readUInt8(1);\n\t\tconst b2 = data.readUInt8(2);\n\n\t\tthis.push(data.slice(3, 3 + b1));\n\t\tthis.push(data.slice(3 + b1, 3 + b1 + b2));\n\t\tthis.push(data.slice(3 + b1 + b2));\n\t}\n}\n\nexport function createWebmVorbisDemuxer(options?: TransformOptions) {\n\treturn new WebmVorbisDemuxer(options);\n}\n"]}