{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/ffmpeg/index.ts"],"names":[],"mappings":";;;;;;AACA,gFAAsD;AAEtD,qCAAsC;AAkB7B,2FAlBA,mBAAU,OAkBA;AAXnB,MAAa,MAAO,SAAQ,8BAAkB;IAC7C,YAAmB,OAAsB;QACxC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,KAAK,CAAC,mBAAU,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE;YACjF,KAAK,EAAE,IAAI;YACX,WAAW,EAAE,IAAI;YACjB,GAAG,OAAO;SACV,CAAC,CAAC;IACJ,CAAC;CACD;AATD,wBASC","sourcesContent":["import { SpawnOptionsWithoutStdio } from 'child_process';\nimport DuplexChildProcess from 'duplex-child-process';\nimport { DuplexOptions } from 'stream';\nimport { findFFmpeg } from './loader';\n\nexport interface FFmpegOptions extends DuplexOptions, SpawnOptionsWithoutStdio {\n\targs: string[];\n\tforceRefresh?: boolean;\n}\n\nexport class FFmpeg extends DuplexChildProcess {\n\tpublic constructor(options: FFmpegOptions) {\n\t\tsuper(options);\n\t\tthis.spawn(findFFmpeg(options.forceRefresh).command, [...options.args, 'pipe:1'], {\n\t\t\tshell: true,\n\t\t\twindowsHide: true,\n\t\t\t...options,\n\t\t});\n\t}\n}\n\nexport { findFFmpeg };\n"]}